!function(s){s.fn.kwicks=function(e){var a={isVertical:!1,sticky:!1,defaultKwick:0,event:"mouseover",spacing:0,duration:500},c=s.extend(a,e),t=c.isVertical?"height":"width",n=c.isVertical?"top":"left";return this.each(function(){var e=s(this),a=e.children("li"),r=a.eq(0).css(t).replace(/px/,"");c.max?c.min=(r*a.size()-c.max)/(a.size()-1):c.max=r*a.size()-c.min*(a.size()-1),c.isVertical?e.css({width:a.eq(0).css("width"),height:r*a.size()+c.spacing*(a.size()-1)+"px"}):e.css({width:r*a.size()+c.spacing*(a.size()-1)+"px",height:a.eq(0).css("height")});var p=[];for(i=0;i<a.size();i++)for(p[i]=[],j=1;j<a.size()-1;j++)i==j?p[i][j]=c.isVertical?j*c.min+j*c.spacing:j*c.min+j*c.spacing:p[i][j]=(j<=i?j*c.min:(j-1)*c.min+c.max)+j*c.spacing;a.each(function(i){var e=s(this);0===i?e.css(n,"0px"):i==a.size()-1?e.css(c.isVertical?"bottom":"right","0px"):c.sticky?e.css(n,p[c.defaultKwick][i]):e.css(n,i*r+i*c.spacing),c.sticky&&(c.defaultKwick==i?(e.css(t,c.max+"px"),e.addClass("active")):e.css(t,c.min+"px")),e.css({margin:0,position:"absolute"}),e.bind(c.event,function(){var s=[],r=[];for(a.stop().removeClass("active"),j=0;j<a.size();j++)s[j]=a.eq(j).css(t).replace(/px/,""),r[j]=a.eq(j).css(n).replace(/px/,"");var o={};o[t]=c.max;var l=c.max-s[i],m=s[i]/l;e.addClass("active").animate(o,{step:function(e){var o=0!=l?e/l-m:1;a.each(function(e){e!=i&&a.eq(e).css(t,s[e]-(s[e]-c.min)*o+"px"),e>0&&e<a.size()-1&&a.eq(e).css(n,r[e]-(r[e]-p[i][e])*o+"px")})},duration:c.duration,easing:c.easing})})}),c.sticky||e.bind("mouseleave",function(){var s=[],e=[];for(a.removeClass("active").stop(),i=0;i<a.size();i++)s[i]=a.eq(i).css(t).replace(/px/,""),e[i]=a.eq(i).css(n).replace(/px/,"");var p={};p[t]=r;var o=r-s[0];a.eq(0).animate(p,{step:function(p){var l=0!=o?(p-s[0])/o:1;for(i=1;i<a.size();i++)a.eq(i).css(t,s[i]-(s[i]-r)*l+"px"),i<a.size()-1&&a.eq(i).css(n,e[i]-(e[i]-(i*r+i*c.spacing))*l+"px")},duration:c.duration,easing:c.easing})})})}}(jQuery);